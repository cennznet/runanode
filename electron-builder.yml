productName: 'CennzNode'
appId: 'com.centrality.odin'
artifactName: 'cennz-node-ui-${version}-${os}-${arch}.${ext}'
copyright: 'Copyright Â© 2019 Centrality'

# Package electron code into a asar archive. Set to false to debug issues.
asar: true

files:
  - 'app/dist/'
  - 'app/app.html'
  - 'app/main.prod.js'
  - 'app/main.prod.js.map'
  - 'package.json'

extraResources:
  - from: 'dist/cennznet-node-${os}'
    to: 'cennznet-node'
  - from: 'dist/launcher-config-${os}.yaml'
    to: 'launcher-config.yaml'

extraFiles:
  - from: 'dist/cennznet-node-${os}'
    to: 'cennznet-node/cennznet-node'
  - from: 'dist/launcher-config-${os}.yaml'
    to: 'cennznet-node/launcher-config.yaml'

# Mac OS configuration
mac:
  #  icon: 'src/app/icon.icns'
  target:
    #    - 'zip'
    - 'pkg'
  #    - 'dmg'
  extendInfo:
    ProgramArguments:
      - LAUNCHER_CONFIG=Resources/launcher-config.yaml

# Config for OSX dmg
dmg:
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: 'link'
      path: '/Applications'

# Windows configuration
win:
  #  icon: 'src/app/assets/images/icon.ico'
  target:
    - 'zip'
    - 'nsis'
    - 'msi'

# Config for the windows installer
nsis:
  oneClick: true
  perMachine: true

# Linux configuration
linux:
  category: Development
  target:
    - 'zip'
    #    - 'AppImage'
    - 'deb'
#    - 'rpm'
#    - 'snap'

deb:
  depends:
    # --- Default START
    - gconf2
    - gconfg-service
    - libnotify4
    - libappindicator1
    - libxtst6
    - libnss3
    - libsecret-1-0 # This is needed for keytar on linux

directories:
  buildResources: 'resources'
  output: 'release'
